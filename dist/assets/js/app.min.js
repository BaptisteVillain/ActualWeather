"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function download(t,e,i){var a=document.createElement("a"),h=new Blob([t],{type:i});a.href=URL.createObjectURL(h),a.download=e,a.click()}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),HourPoint=function(){function t(e,i){_classCallCheck(this,t),this.data=e,this.hour=e.FCTTIME.hour,this.index=i,this.el=document.createElement("div"),this.draw()}return _createClass(t,[{key:"draw",value:function(){this.el.className=0==this.index?"hour-point active":"hour-point",this.el.style.transform="translateX("+(actual_weather.width/2+actual_weather.data_width/2*Math.cos(2*this.index*Math.PI/24))+"px)",this.el.style.transform+=" translateY("+(actual_weather.width/2+actual_weather.data_width/2*Math.sin(2*this.index*Math.PI/24))+"px)",actual_weather.el.appendChild(this.el)}}]),t}(),PrecipitationLine=function(){function t(e,i){_classCallCheck(this,t),this.value=e,this.index=i,this.el_container=document.createElement("div"),this.el_line=document.createElement("div"),this.el_text_line=document.createElement("div"),this.el_text_temp=document.createElement("div"),this.el_text_hour=document.createElement("div"),this.draw()}return _createClass(t,[{key:"draw",value:function(){this.el_container.className=0==this.index?"precipitation-line active":"precipitation-line",this.el_container.style.transform="translateX("+(actual_weather.width/2+actual_weather.data_width/2*Math.cos(2*this.index*Math.PI/24))+"px)",this.el_container.style.transform+=" translateY("+(actual_weather.width/2+actual_weather.data_width/2*Math.sin(2*this.index*Math.PI/24))+"px)",this.el_container.style.transform+=" rotate("+(15*this.index+90)+"deg)",actual_weather.el.appendChild(this.el_container),this.el_line.className="line",this.el_line.style.transform=" scaleY("+this.value.sky/100+")",this.el_container.appendChild(this.el_line),this.el_text_line.className="text-line",this.el_text_line.style.top=this.el_container.offsetHeight*(this.value.sky/100)+"px",this.el_text_line.textContent=this.value.sky+"%",this.el_container.appendChild(this.el_text_line),this.el_text_hour.className="text-hour",this.el_text_hour.textContent=this.value.FCTTIME.hour+"H",this.el_container.appendChild(this.el_text_hour),this.el_text_temp.className="text-temp",this.el_text_temp.textContent=this.value.temp.metric+"Â°C",this.el_container.appendChild(this.el_text_temp)}}]),t}(),ActualWeather=function(){function t(e){_classCallCheck(this,t),this.el=e,this.el.style.transform="rotate(-"+(15*data.hourly_forecast[0].FCTTIME.hour-30)+"deg)",this.width=e.offsetWidth,this.height=e.offsetHeight,this.data_width=.95*this.width,this.hour_points=[],this.precipitation_lines=[],this.container_circle_line=this.el.querySelector("svg.circle-line"),this.initSvg(this.container_circle_line)}return _createClass(t,[{key:"initSvg",value:function(t){t.setAttribute("width",this.width),t.setAttribute("height",this.height),this.circle_line=document.createElementNS("http://www.w3.org/2000/svg","path");var e=this.width/2+this.data_width/2*Math.cos(47*Math.PI/24),i=this.width/2+this.data_width/2*Math.sin(47*Math.PI/24),a=this.width/2+this.data_width/2*Math.cos(45*Math.PI/24),h=this.width/2+this.data_width/2*Math.sin(45*Math.PI/24);this.path="M"+e+" "+i+" A "+this.data_width/2+" "+this.data_width/2+", 0, 1, 1, "+a+" "+h,this.circle_line.setAttribute("d",this.path),this.container_circle_line.appendChild(this.circle_line)}},{key:"draw",value:function(){for(var t=0;t<12;t++)this.hour_points.push(new HourPoint(data.hourly_forecast[2*t],2*t)),this.precipitation_lines.push(new PrecipitationLine(data.hourly_forecast[2*t],2*t))}}]),t}();data.hourly_forecast[0].FCTTIME.hour%2!=0&&(console.log(data.hourly_forecast[0].FCTTIME.hour),data.hourly_forecast.splice(0,1),console.log(data.hourly_forecast[0].FCTTIME.hour));var actual_weather=new ActualWeather(document.querySelector(".circle-hour"));actual_weather.draw(),console.log(data);